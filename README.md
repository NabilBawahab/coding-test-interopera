# Sales Dashboard Application

A full-stack application built with Next.js and FastAPI to display sales representative data.

## Overview

This application displays sales representative data fetched from a FastAPI backend. It allows users to view a list of sales representatives and their details, including roles, regions, skills, deals, and clients. It also includes an AI feature powered by the OpenAI SDK through OpenRouter.ai, using the Mistral Small 3.1 24B model.

## Features

- **Data Rendering:**
  - Displays a list of sales representatives in a card format.
  - Shows detailed information for each representative in a modal when the card is clicked.
  - Handles nested JSON structures (e.g., displays deals and clients within the modal).
- **UI/UX:**
  - Clean and responsive interface built with Next.js and Tailwind CSS.
  - Modal component from HERO UI is used to display details.
  - Displays a loading state while fetching data and an error message with toast if data fetching fails.
- **Backend API:**
  - FastAPI backend serves data from `dummyData.json` via a RESTful API.
  - CORS is enabled to allow cross-origin requests.
- **AI Feature:**
  - Allows users to input a question regarding data from `dummyData.json`.
  - Uses the OpenAI SDK and OpenRouter.ai to query the Mistral Small 3.1 24B model.
  - Displays the AI-generated response to the user.

## Technologies Used

- **Frontend:**
  - Next.js (v15.3.0)
  - React (v18.2.0)
  - React DOM (v18.2.0)
  - Tailwind CSS (v3.4.17)
  - HERO UI (@heroui/react v2.7.6)
  - Lucide React (v0.488.0)
  - Typed.js (v2.1.0)
- **Backend:**
  - FastAPI (0.115.12)
  - Python (3.12.3)
- **Data:**
  - JSON (`dummyData.json`)
- **AI:**
  - OpenAI SDK (via OpenRouter.ai)
  - Mistral Small 3.1 24B (model)

## Getting Started

### Prerequisites

- Node.js (v18.x.x)
- npm (or yarn/pnpm)
- Python (3.12.3)
- pip

### Installation

1.  Clone the repository:

    ```bash
    git clone https://github.com/NabilBawahab/coding-test-interopera.git
    cd coding-test-interopera
    ```

### Backend Setup

1.  Navigate to the `backend` directory:

    ```bash
    cd backend
    ```

2.  Create a virtual environment:

    ```bash
    python3 -m venv venv
    source venv/bin/activate  # On macOS/Linux
    venv\Scripts\activate  # On Windows
    ```

3.  Install dependencies:

    ```bash
    pip install -r requirements.txt
    ```

4.  Set up environment variables:

    ```bash
    # Create a .env file in the backend directory
    # Add your OpenRouter.ai API key:
    # You can get your OpenRouter API Key in OpenRouter.ai
    OPENROUTER_API_KEY=YOUR_OPENROUTER_API_KEY_HERE
    # Add your AI Model
    AI_MODEL=YOUR_AI_MODEL_HERE
    # for example, you can check this file in this repository: .env.example
    ```

5.  Run the server:

    ```bash
    uvicorn main:app --host 0.0.0.0 --port 8000 --reload
    ```

6.  Confirm the API works by visiting:

    ```
    http://localhost:8000/api/ping
    ```

### Frontend Setup

1.  Navigate to the `frontend` directory:

    ```bash
    cd ../frontend
    ```

2.  Install dependencies:

    ```bash
    npm install  # Atau yarn install atau pnpm install
    ```

3.  Start the development server:

    ```bash
    npm run dev  # Atau yarn dev atau pnpm dev
    ```

4.  Open the application in your browser:

    ```
    http://localhost:3000
    ```

## API Endpoints

- `GET /api/sales-reps`: Returns the sales representative data from `dummyData.json`.
- `POST /api/ai`: Accepts a user question and returns an AI-generated response from the Mistral model via OpenRouter.ai.

## AI Feature

The AI feature allows users to ask questions and receive responses generated by the Mistral Small 3.1 24B model. The application uses the OpenAI SDK to interact with the OpenRouter.ai API, which provides access to various Large Language Models (LLMs).

**Important:** You will need to set up your OpenRouter.ai API key as an environment variable (see the Backend Setup section).
